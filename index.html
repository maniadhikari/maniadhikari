<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>labs.maniadhikari.com - Coming Soon</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:wght@400;500;600;700;800&display=swap" rel="stylesheet">

<style>
:root {
  --bg-color: #000000;
  --text-color: #ffffff;
  --orange: #F26207;
  --font-family: 'Inter Tight', sans-serif;
}

*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: var(--font-family);
  background-color: var(--bg-color);
  color: var(--text-color);
  height: 100vh;
  width: 100vw;
  overflow: hidden;
  display: flex;
}

.container {
  display: flex;
  width: 100%;
  height: 100%;
}

.left-panel {
  flex: 1;
  padding: 4rem 6rem;
  display: flex;
  flex-direction: column;
  justify-content: center;
  z-index: 10;
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(10px);
}

.right-panel {
  flex: 1;
  position: relative;
  overflow: hidden;
}

/* Video Background */
.video-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  background: black;
}

/* Content */
h1 {
  font-size: 4rem;
  font-weight: 600;
  line-height: 1.1;
  margin-bottom: 1.5rem;
  letter-spacing: -0.02em;
}
.highlight { color: #ffffff; }

p.subtitle {
  font-size: 1.25rem;
  color: #a1a1a1;
  margin-bottom: 3rem;
  max-width: 500px;
}

.form-container { margin-bottom: 3rem; max-width: 500px; }

.subscribe-form {
  display: flex;
  gap: 1rem;
}

input[type="email"] {
  flex: 1;
  padding: 1rem 1.5rem;
  border-radius: 200px;
  border: 1px solid #333;
  background: rgba(255, 255, 255, 0.05);
  color: var(--text-color);
  font-size: 1rem;
  outline: none;
}
input[type="email"]:focus { border-color: var(--orange); }

.btn-submit {
  padding: 1rem 2rem;
  border-radius: 200px;
  border: none;
  background: #ffffff;
  color: #000000;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: background-color 0.3s, transform 0.2s;
}
.btn-submit:hover {
  background-color: #f0f0f0;
  transform: translateY(-2px);
}

.success-message {
  display: none;
  font-size: 1.1rem;
  color: var(--orange);
  font-weight: 600;
  align-items: center;
  gap: 0.5rem;
}

.social-proof {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-top: auto;
}

.avatars { display: flex; }
.avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  border: 3px solid var(--bg-color);
  background: linear-gradient(45deg, #555, #777);
  margin-left: -15px;
}
.avatar:first-child { margin-left: 0; }
.avatar:last-child {
  display: flex;
  justify-content: center;
  align-items: center;
  color: #fff; font-size: 0.8rem; font-weight: 600;
  background: #333;
}

.proof-text { color: #a1a1a1; font-size: 0.9rem; font-weight: 500; }

.footer {
  margin-top: 4rem;
  font-size: 0.9rem;
  color: #a1a1a1;
  display: flex;
  justify-content: space-between;
}
.footer a { color: #a1a1a1; text-decoration: none; margin-left: 1.5rem; }
.footer a:hover { color: #ffffff; }

@media (max-width: 768px) {
  body { overflow: auto; height: auto; }
  .container { flex-direction: column-reverse; }
  .left-panel { padding: 3rem 2rem; }
  .right-panel { height: 50vh; min-height: 300px; }
  h1 { font-size: 2.5rem; }
  p.subtitle { font-size: 1.1rem; }
  .subscribe-form { flex-direction: column; }
  .btn-submit { width: 100%; }
  .footer { flex-direction: column; gap: 1rem; align-items: flex-start; }
}
</style>
</head>
<body>

<div class="container">
  <div class="left-panel">
    <header style="margin-bottom: auto;">
      <div style="font-weight: 700; font-size: 1.5rem; color: #ffffff;">labs.</div>
    </header>
    <main>
      <h1>
        <span class="highlight">Free Webflow tools</span><br>
        and experiments<br>
        <span class="highlight">launching sooner</span><br>
        than you think.
      </h1>
      <p class="subtitle">Join the waitlist to get early access to a new collection of powerful Webflow resources.</p>

      <div class="form-container">
        <form class="subscribe-form" id="waitlist-form">
          <input type="email" id="email-input" placeholder="your@email.com" required>
          <button type="submit" class="btn-submit">Join Waitlist</button>
        </form>
        <div class="success-message" id="success-message">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>
          You're on the list! We'll be in touch soon.
        </div>
      </div>

      <div class="social-proof">
        <div class="avatars">
          <div class="avatar"></div><div class="avatar"></div><div class="avatar"></div>
          <div class="avatar">+</div>
        </div>
        <p class="proof-text">Over <span id="join-count">0</span>+ developers have already joined</p>
      </div>
    </main>

    <footer class="footer">
      <div>Built by Mani Adhikari</div>
      <div class="links">
        <a href="#">Twitter</a><a href="#">GitHub</a><a href="#">LinkedIn</a>
      </div>
    </footer>
  </div>

  <div class="right-panel">
    <video class="video-background" autoplay loop muted playsinline preload="auto">
      <source src="18069803-sd_540_960_24fps_1763792725644.mp4" type="video/mp4">
    </video>
  </div>
</div>

<script>
// Submit to Tally using hidden form (no CORS issues)
document.addEventListener('DOMContentLoaded', () => {
  const form = document.getElementById('waitlist-form');
  const emailInput = document.getElementById('email-input');
  const successMessage = document.getElementById('success-message');

  form.addEventListener('submit', (e) => {
    e.preventDefault();
    const email = emailInput.value;

    if (!email || !/^\S+@\S+\.\S+$/.test(email)) {
      alert('Please enter a valid email address.');
      return;
    }

    const submitButton = form.querySelector('.btn-submit');
    submitButton.disabled = true;
    submitButton.textContent = 'Submitting...';

    const tallyForm = document.createElement('form');
    tallyForm.action = 'https://tally.so/r/RGGe4d';
    tallyForm.method = 'POST';
    tallyForm.style.display = 'none';

    const emailField = document.createElement('input');
    emailField.type = 'hidden';
    emailField.name = '6a5262fc-4c6e-4ea2-92e6-3236a3a2b533';
    emailField.value = email;
    tallyForm.appendChild(emailField);

    document.body.appendChild(tallyForm);
    tallyForm.submit();

    form.style.display = 'none';
    successMessage.style.display = 'flex';

    setTimeout(() => { tallyForm.remove(); }, 3000);
  });
});

// Live join count using CSV export
async function fetchJoinCount() {
  const countElem = document.getElementById('join-count');

  try {
    const res = await fetch("https://tally.so/forms/RGGe4d/responses/export.csv");
    const csv = await res.text();

    const rows = csv.trim().split("\n");
    const total = rows.length - 1; // minus header

    animateCount(countElem, total);

  } catch (error) {
    console.log("Couldnâ€™t load real count, fallback applied.");
    animateCount(countElem, 120); // fallback number
  }
}

function animateCount(el, target) {
  let current = 0;
  const step = Math.ceil(target / 60);

  const counter = setInterval(() => {
    current += step;
    if (current >= target) {
      current = target;
      clearInterval(counter);
    }
    el.textContent = current;
  }, 15);
}

fetchJoinCount();
</script>

</body>
</html>
